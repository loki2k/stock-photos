{"version":3,"sources":["Photo.js","App.js","index.js"],"names":["Photo","regular","urls","alt_description","likes","user","name","portfolio_url","medium","profile_image","className","src","alt","href","clientID","process","REACT_APP_ACCESS_KEY","App","useState","loading","setLoading","photos","setPhotos","page","setPage","query","setQuery","fetchImages","a","urlPage","urlQuery","url","fetch","response","json","data","oldPhotos","results","console","log","useEffect","event","window","addEventListener","innerHeight","scrollY","document","body","scrollHeight","oldPage","removeEventListener","type","placeholder","value","onChange","e","target","onClick","preventDefault","map","image","index","key","ReactDOM","render","StrictMode","getElementById"],"mappings":"6PA4BeA,EA1BD,SAAC,GASR,IARGC,EAQJ,EARJC,KAAQD,QACRE,EAOI,EAPJA,gBACAC,EAMI,EANJA,MAMI,IALJC,KACEC,EAIE,EAJFA,KACAC,EAGE,EAHFA,cACiBC,EAEf,EAFFC,cAAiBD,OAGnB,OACE,6BAASE,UAAU,SACjB,yBAAKC,IAAKV,EAASW,IAAKT,IACxB,yBAAKO,UAAU,cACb,6BACE,4BAAKJ,GACL,2BAAIF,EAAJ,WAEF,uBAAGS,KAAMN,GACP,yBAAKI,IAAKH,EAAQI,IAAI,GAAGF,UAAU,iBCjBvCI,EAAQ,qBAAiBC,gIAAYC,sBAwF5BC,MApFf,WAAgB,IAAD,EACiBC,oBAAS,GAD1B,mBACNC,EADM,KACGC,EADH,OAEeF,mBAAS,IAFxB,mBAENG,EAFM,KAEEC,EAFF,OAGWJ,mBAAS,GAHpB,mBAGNK,EAHM,KAGAC,EAHA,OAIaN,mBAAS,IAJtB,mBAINO,EAJM,KAICC,EAJD,KAKPC,EAAW,uCAAG,oCAAAC,EAAA,6DAClBR,GAAW,GAELS,EAHY,gBAGON,GACnBO,EAJY,iBAISL,GAEzBM,EADEN,EACC,UAbM,2CAaN,OAAkBX,GAAlB,OAA6Be,GAA7B,OAAuCC,GAEvC,UAhBI,oCAgBJ,OAAgBhB,GAAhB,OAA2Be,GARd,kBAWOG,MAAMD,GAXb,cAWVE,EAXU,iBAYGA,EAASC,OAZZ,QAYVC,EAZU,OAahBb,GAAU,SAACc,GACT,OAAIX,GAAkB,IAATF,EACJY,EAAKE,QAEN,GAAN,mBAAWD,GADFX,EACT,YAAyBU,EAAKE,SAE9B,YAAyBF,OAG7Bf,GAAW,GAtBK,kDAwBhBkB,QAAQC,IAAR,MACAnB,GAAW,GAzBK,0DAAH,qDAmDjB,OAvBAoB,qBAAU,WACRb,MAEC,CAACJ,IAEJiB,qBAAU,WACR,IAAMC,EAAQC,OAAOC,iBAAiB,UAAU,aAE1CxB,GAAWuB,OAAOE,YAAcF,OAAOG,UACzCC,SAASC,KAAKC,aAAe,GAE7BxB,GAAQ,SAACyB,GACP,OAAOA,EAAU,QAIvB,OAAO,kBAAMP,OAAOQ,oBAAoB,SAAUT,MAEjD,IAMD,8BACE,6BAAS/B,UAAU,UACjB,0BAAMA,UAAU,eACd,2BACEyC,KAAK,OACLC,YAAY,SACZC,MAAO5B,EACP6B,SAAU,SAACC,GAAD,OAAO7B,EAAS6B,EAAEC,OAAOH,QACnC3C,UAAU,eAEZ,4BAAQyC,KAAK,SAASzC,UAAU,aAAa+C,QAfhC,SAACF,GACpBA,EAAEG,iBACFlC,EAAQ,KAcA,kBAAC,IAAD,SAIN,6BAASd,UAAU,UACjB,yBAAKA,UAAU,iBACZW,EAAOsC,KAAI,SAACC,EAAOC,GAClB,OAAO,kBAAC,EAAD,eAAOC,IAAKD,GAAWD,QAGjCzC,GAAW,wBAAIT,UAAU,WAAd,iBCjFpBqD,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFnB,SAASoB,eAAe,W","file":"static/js/main.8d43cd5b.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Photo = ({\r\n  urls: { regular },\r\n  alt_description,\r\n  likes,\r\n  user: {\r\n    name,\r\n    portfolio_url,\r\n    profile_image: { medium },\r\n  },\r\n}) => {\r\n  return (\r\n    <article className='photo'>\r\n      <img src={regular} alt={alt_description} />\r\n      <div className='photo-info'>\r\n        <div>\r\n          <h4>{name}</h4>\r\n          <p>{likes} likes</p>\r\n        </div>\r\n        <a href={portfolio_url}>\r\n          <img src={medium} alt='' className='user-img' />\r\n        </a>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default Photo\r\n","import React, { useState, useEffect } from 'react'\r\nimport { FaSearch } from 'react-icons/fa'\r\n\r\nimport Photo from './Photo'\r\nconst clientID = `?client_id=${process.env.REACT_APP_ACCESS_KEY}`\r\nconst mainUrl = `https://api.unsplash.com/photos/`\r\nconst searchUrl = `https://api.unsplash.com/search/photos/`\r\n\r\nfunction App() {\r\n  const [loading, setLoading] = useState(false)\r\n  const [photos, setPhotos] = useState([])\r\n  const [page, setPage] = useState(0)\r\n  const [query, setQuery] = useState('')\r\n  const fetchImages = async () => {\r\n    setLoading(true)\r\n    let url\r\n    const urlPage = `&page=${page}`\r\n    const urlQuery = `&query=${query}`\r\n    if (query) {\r\n      url = `${searchUrl}${clientID}${urlPage}${urlQuery}`\r\n    } else {\r\n      url = `${mainUrl}${clientID}${urlPage}`\r\n    }\r\n    try {\r\n      const response = await fetch(url)\r\n      const data = await response.json()\r\n      setPhotos((oldPhotos) => {\r\n        if (query && page === 1) {\r\n          return data.results\r\n        } else if (query) {\r\n          return [...oldPhotos, ...data.results]\r\n        } else {\r\n          return [...oldPhotos, ...data]\r\n        }\r\n      })\r\n      setLoading(false)\r\n    } catch (error) {\r\n      console.log(error)\r\n      setLoading(false)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    fetchImages()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page])\r\n\r\n  useEffect(() => {\r\n    const event = window.addEventListener('scroll', () => {\r\n      if (\r\n        (!loading && window.innerHeight + window.scrollY) >=\r\n        document.body.scrollHeight - 2\r\n      ) {\r\n        setPage((oldPage) => {\r\n          return oldPage + 1\r\n        })\r\n      }\r\n    })\r\n    return () => window.removeEventListener('scroll', event)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    setPage(1)\r\n  }\r\n  return (\r\n    <main>\r\n      <section className='search'>\r\n        <form className='search-form'>\r\n          <input\r\n            type='text'\r\n            placeholder='search'\r\n            value={query}\r\n            onChange={(e) => setQuery(e.target.value)}\r\n            className='form-input'\r\n          />\r\n          <button type='submit' className='submit-btn' onClick={handleSubmit}>\r\n            <FaSearch />\r\n          </button>\r\n        </form>\r\n      </section>\r\n      <section className='photos'>\r\n        <div className='photos-center'>\r\n          {photos.map((image, index) => {\r\n            return <Photo key={index} {...image} />\r\n          })}\r\n        </div>\r\n        {loading && <h2 className='loading'>Loading...</h2>}\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}